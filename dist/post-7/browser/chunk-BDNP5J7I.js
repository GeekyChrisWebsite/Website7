import{a as y}from"./chunk-OFQYTWVY.js";import{a as p}from"./chunk-5NN3RGOP.js";import{a as b}from"./chunk-AU7YFDZX.js";import{a as r}from"./chunk-6GNAJBRD.js";import{a as o,b as g}from"./chunk-JFSDMO4J.js";import{U as h,Z as a,j as l,k as u}from"./chunk-DBXKETHY.js";var N=(()=>{let i=class i{constructor(t,e,s,n){this._http=t,this.postingService=e,this._buysell=s,this.listingService=n,this.bparm=new u({}),this.clearListing=new l,this.clearPosting=new l,this.clearBuySell=new l,this.listingArraySource=new u([]),this.listingArray$=this.listingArraySource.asObservable()}GetState(t){let e=new o().set("category",t);return this._http.get(`${r.BACKEND_DOMAIN}/filter/states/`,{params:e})}GetCity(t,e){let s=new o().set("category",e).set("state",t);return this._http.get(`${r.BACKEND_DOMAIN}/filter/cities/`,{params:s})}getbusinessesbycategory(t,e,s){let n=new o().set("category",t).set("state",e).set("city",s);return this._http.get(`${r.BACKEND_DOMAIN}/filter/businesses/`,{params:n})}getpostsfilter(t,e,s){let n=new o().set("category",t).set("state",e).set("city",s);return this._http.get(`${r.BACKEND_DOMAIN}/website-filtered-posts/`,{params:n})}updateListingArray(t){this.listingArraySource.next([...t])}clearListingArray(){this.listingArraySource.next([])}fetchData(){this.listingService.GetListing().subscribe(t=>{this.updateListingArray(t)})}updateFilterParams(t){this.bparm.next(t)}likeBusinessById(t){let e={bus_id:t};return this._http.put(`${r.BACKEND_DOMAIN}/like-business-by-bus-id`,e)}dislikeBusinessById(t){let e={bus_id:t};return this._http.put(`${r.BACKEND_DOMAIN}/dislike-business-by-bus-id`,e)}clear(){this.listingService.GetListing().subscribe({next:t=>{this.clearListing.next(t),console.log("res",t)}}),this.postingService.GetPosting().subscribe({next:t=>{this.clearPosting.next(t),console.log("res",t)}}),this._buysell.getAllBuysell().subscribe({next:t=>{this.clearBuySell.next(t),console.log("buyy",t)}})}};i.\u0275fac=function(e){return new(e||i)(a(g),a(b),a(y),a(p))},i.\u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"});let c=i;return c})();export{N as a};
