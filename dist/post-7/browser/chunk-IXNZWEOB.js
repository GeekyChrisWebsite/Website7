import{a as g}from"./chunk-PVNN46WA.js";import{a as r}from"./chunk-KMXITLPI.js";import{b as o,c as h}from"./chunk-EOFWODBS.js";import{Q as u,V as c,j as l,k as b}from"./chunk-ZFJE44N6.js";var A=(()=>{let n=class n{constructor(t,s){this.httpClient=t,this.postingService=s,this.filteredListings=new l,this.filteredPostings=new l,this.filteredBuySell=new l,this.clearListings=new l,this.clearPostings=new l,this.clearBuysell=new l,this.sidebarVisible=new b(!1),this.sidebarVisible$=this.sidebarVisible.asObservable()}getStates(t){let s=new o;return s=s.set("category",t),this.httpClient.get(`${r.BACKEND_DOMAIN}/filter/states`,{params:s})}getCities(t,s){let i=new o;return i=i.set("category",t),i=i.set("state",s),this.httpClient.get(`${r.BACKEND_DOMAIN}/filter/cities`,{params:i})}getbussineses(t,s,i){let e=new o;return e=e.set("category",t),e=e.set("state",s),e=e.set("city",i),this.httpClient.get(`${r.BACKEND_DOMAIN}/filter/businesses`,{params:e})}filterInService(t,s,i){this.businessSubscription&&this.businessSubscription.unsubscribe(),this.businessSubscription=this.getbussineses(t,s,i).subscribe({next:e=>{console.log(e),this.filteredListings.next(e)}})}filterInPostings(t,s,i){this.postsSubscription=this.getPostings(t,s,i).subscribe({next:e=>{console.log(e),this.filteredPostings.next(e)}})}filterInBuySell(t,s,i){this.buySellSubscription=this.getBuySells(t,s,i).subscribe({next:e=>{console.log(e),this.filteredBuySell.next(e)}})}getListing(){return this.httpClient.get(`${r.BACKEND_DOMAIN}/get-businesses-website-request/${r.SITE_DOMAIN}`)}getPosting(){return this.httpClient.get(`${r.BACKEND_DOMAIN}/get-all-posts-website-request/${r.SITE_DOMAIN}`)}getbuysell(){return this.httpClient.get(`${r.BACKEND_DOMAIN}/get-all-buysells-website-request/${r.SITE_DOMAIN}`)}clearListing(){this.clearListingSubscription&&this.clearListingSubscription.unsubscribe(),this.clearListingSubscription=this.getListing().subscribe({next:t=>{this.clearListings.next(t)}}),this.clearPostingSubscription&&this.clearPostingSubscription.unsubscribe(),this.clearPostingSubscription=this.getPosting().subscribe({next:t=>{console.log("in service posts",t),this.clearPostings.next(t.data)}}),this.clearBuySellSubscription&&this.clearBuySellSubscription.unsubscribe(),this.clearBuySellSubscription=this.getbuysell().subscribe({next:t=>{console.log(t.data),this.clearBuysell.next(t.data)}})}getPostings(t,s,i){let e=new o;return e=e.set("category",t),e=e.set("state",s),e=e.set("city",i),this.httpClient.get(`${r.BACKEND_DOMAIN}/website-filtered-posts`,{params:e})}getBuySells(t,s,i){let e=new o;return e=e.set("category",t),e=e.set("state",s),e=e.set("city",i),this.httpClient.get(`${r.BACKEND_DOMAIN}/website-filtered-buysells`,{params:e})}addLike(t){let s={};return this.httpClient.post(`${r.BACKEND_DOMAIN}/business/${t}/like`,s)}addDislikes(t){let s={};return this.httpClient.post(`${r.BACKEND_DOMAIN}/business/${t}/dislike`,s)}setSidebarVisible(t){this.sidebarVisible.next(t)}};n.\u0275fac=function(s){return new(s||n)(c(h),c(g))},n.\u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();export{A as a};
