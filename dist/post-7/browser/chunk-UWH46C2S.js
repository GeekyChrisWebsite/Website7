import{b as $,c as R}from"./chunk-XSUQOZBK.js";import{j as F}from"./chunk-5RGJEPLB.js";import{a as T}from"./chunk-NFFZMRKC.js";import{a as L}from"./chunk-DV7ZQGJ3.js";import{o as z,p as E,r as j}from"./chunk-446XVE5Q.js";import{Ab as d,Bb as b,Cb as C,Cc as N,Ec as D,Ga as P,Hb as I,Qa as r,Ra as f,Rb as G,Tb as B,Y as S,ab as u,ba as _,bb as k,ca as x,cb as M,gb as v,lb as o,mb as c,nb as g,rb as w,tb as m,ub as p,wc as V,xb as y,xc as A,yb as O}from"./chunk-DNKOXMCJ.js";function X(a,l){if(a&1&&(o(0,"div",18)(1,"div",19),g(2,"i",20),o(3,"p",21),d(4),G(5,"number"),o(6,"span"),d(7,"Miles"),c()()()()),a&2){let i=p().index,t=p(2);r(4),C(" Distance: ",B(5,1,t.distances[i],"1.0-0")," ")}}function Y(a,l){if(a&1){let i=w();o(0,"div",6)(1,"div",7)(2,"div",8),m("click",function(e){let n=_(i),s=n.$implicit,h=n.index;return p(2).likeBusiness(s.id,h),x(e.stopPropagation())}),g(3,"i",9),c(),o(4,"p",10),d(5),c(),g(6,"img",11),o(7,"div",12)(8,"h5"),d(9),c()(),v(10,X,8,4,"div",13),o(11,"div")(12,"p",14),d(13),c()(),o(14,"div",15)(15,"button",16),m("click",function(){let n=_(i).$implicit,s=p(2);return x(s.makePhoneCall(n.phone_number))}),d(16," Call Now "),c(),o(17,"button",17),m("click",function(){let n=_(i).$implicit,s=p(2);return x(s.handleMapClick(n.geo_direction))}),d(18," Directions "),c()()()()}if(a&2){let i=l.$implicit,t=l.index,e=p(2);r(1),O("routerLink","/details/",i.id,""),r(1),M("liked",e.listingArray[t].liked),r(1),k("color",e.listingArray[t].liked?"black":"#0069D9"),r(2),b(e.listingArray[t].likes),r(1),y("src",i.logo,P),r(3),b(i.name),r(1),u("ngIf",e.distances&&e.distances.length>0),r(3),b(e.truncateText(i.description,20))}}function Z(a,l){if(a&1){let i=w();o(0,"section",1)(1,"div",2)(2,"div",3),v(3,Y,19,10,"div",4),c()(),o(4,"p-paginator",5),m("onPageChange",function(e){_(i);let n=p();return x(n.onPageChange(e))}),c()()}if(a&2){let i=p();r(3),u("ngForOf",i.listingArray.slice(i.first,i.first+i.rows)),r(1),u("first",i.first)("rows",i.rows)("totalRecords",i.listingArray.length)}}var ct=(()=>{let l=class l{constructor(t,e,n,s){this.filterservice=t,this._cookieService=e,this.router=n,this.distanceService=s,this.first=0,this.rows=5,this.isLiked=[],this.likeCountValue=[]}makePhoneCall(t){console.log("Initiating phone call to:",t),window.location.href="tel:"+t}handleMapClick(t){if(console.log(t),t){let e=`https://www.google.com/maps/search/?api=1&query=${t.lat},${t.lng}`;window.open(e,"_blank")}}truncateText(t,e){return t.length<=e?t:t.slice(0,e)+"..."}likeBusiness(t,e){this._cookieService.get("token")?this.listingArray[e].liked==!0?(console.log(this.listingArray[e].liked),this.filterservice.addDislikes(t).subscribe({next:s=>{console.log(s,"like"),this.listingArray[e].liked=!1,this.listingArray[e].likes+=1}})):this.filterservice.addLike(t).subscribe({next:s=>{console.log(s,"dislike"),this.listingArray[e].liked=!0,this.listingArray[e].likes-=1}}):this.router.navigate(["/login"])}calculateDistance(t,e){let n=this.distanceService.calculateDistance(t,e);return n!==null?n.toFixed(0):"N/A"}onPageChange(t){this.first=t.first,this.rows=t.rows}ngOnInit(){this.totalRecords=this.listingArray.length}};l.\u0275fac=function(e){return new(e||l)(f(T),f(L),f(z),f(F))},l.\u0275cmp=S({type:l,selectors:[["app-gallery-view"]],inputs:{listingArray:"listingArray",filterarray:"filterarray",distances:"distances"},standalone:!0,features:[I],decls:1,vars:1,consts:[["class","list-img",4,"ngIf"],[1,"list-img"],[1,"container"],[1,"row","justify-content-start","align-items-center","d-flex","flex-wrap","gap-3","py-3","gap-lg-0"],["class","col-md-3 col-12 mb-3",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"col-md-3","col-12","mb-3"],[1,"card","justify-content-between","align-items-center","d-flex",3,"routerLink"],[1,"d-flex","justify-content-center","align-items-center","gap-1","div-like",3,"click"],["id","likeIcon",1,"bx","bxs-like","fs-4"],["id","likeCount",1,"m-0","likes"],["alt","",1,"border","rounded",3,"src"],[1,"title","py-2"],["class","py-2",4,"ngIf"],[1,"text-muted"],[1,"btns","justify-content-start","align-items-start","d-flex","gap-3","py-3"],[1,"call-now",3,"click"],[1,"Directions",3,"click"],[1,"py-2"],[1,"d-flex","justify-content-center","align-items-center","gap-1"],[1,"pi","pi-directions","fs-4"],[1,"p-0","m-0"]],template:function(e,n){e&1&&v(0,Z,5,4,"section",0),e&2&&u("ngIf",n.listingArray)},dependencies:[D,V,A,N,j,E,R,$],styles:[".list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:10px;-webkit-border-radius:10px;-moz-border-radius:10px;-ms-border-radius:10px;-o-border-radius:10px;box-shadow:0 4px 4px #00000040}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:228px;width:300px;background-color:#000;object-fit:contain;border-radius:7px!important;-webkit-border-radius:7px!important;-moz-border-radius:7px!important;-ms-border-radius:7px!important;-o-border-radius:7px!important}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 4px 4px #00000040}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-family:Lato,sans-serif;color:#0f3d3e;font-size:25px}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .call-now[_ngcontent-%COMP%]{background-color:#aefcc9;width:130px;height:50px;border:none;outline:none;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px;color:#000}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .Directions[_ngcontent-%COMP%]{background-color:#ffbf9d;width:130px;height:50px;border:none;outline:none;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px;color:#000}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .div-like[_ngcontent-%COMP%]{position:absolute;top:203px;right:16px;background-color:#fff;width:45px;height:45px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;-o-border-radius:50%;justify-content:center;align-items:center;display:flex}.list-img[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .likes[_ngcontent-%COMP%]{position:absolute;top:258px;right:34px}@media (max-width: 767px){img[_ngcontent-%COMP%]{height:247px!important;width:326px!important}}"]});let a=l;return a})();function tt(a,l){if(a&1){let i=w();o(0,"div",6)(1,"div",7)(2,"div",8),g(3,"img",9),c(),o(4,"div",10)(5,"div",11)(6,"div",12)(7,"div",13)(8,"div")(9,"h5",14),d(10),c()()(),g(11,"div"),c(),o(12,"div",15),g(13,"i",16),o(14,"small"),d(15),c()(),o(16,"div",17),g(17,"i",18),o(18,"p",19),d(19),o(20,"span"),d(21,"miles"),c()()(),o(22,"div",20)(23,"div",21)(24,"button",22),m("click",function(){let n=_(i).$implicit,s=p(2);return x(s.makePhoneCall(n.phone_number))}),d(25," Call "),c(),o(26,"button",23),m("click",function(){let n=_(i).$implicit,s=p(2);return x(s.handleMapClick(n.geo_direction))}),d(27," Directions "),c()(),o(28,"div")(29,"div")(30,"div",24),m("click",function(){let e=_(i),n=e.$implicit,s=e.index,h=p(2);return x(h.likeBusiness(n.id,s))}),g(31,"i",25),o(32,"p",26),d(33),c()()()()()()()()()}if(a&2){let i=l.$implicit,t=l.index,e=p(2);r(3),y("src",i.logo,P),O("routerLink","/details/",i.id,""),r(7),C(" ",i.name," "),r(5),b(e.truncateText(i.state,10)+", "+e.truncateText(i.street,10)),r(4),C(" Distance: ",e.calculateDistance(i.geo_direction.lat,i.geo_direction.lng)," "),r(11),M("liked",e.listingArray[t].liked),r(1),k("color",e.listingArray[t].liked?"black":"#0069D9"),r(2),C(" ",e.listingArray[t].likes," ")}}function et(a,l){if(a&1&&(o(0,"div",4),v(1,tt,34,10,"div",5),c()),a&2){let i=p();r(1),u("ngForOf",i.listingArray.slice(i.first,i.first+i.rows))}}function it(a,l){if(a&1){let i=w();o(0,"div",27)(1,"div",7)(2,"div",10),g(3,"img",28),c(),o(4,"div",8)(5,"div",11)(6,"div",12)(7,"div",13)(8,"div")(9,"h5",29),d(10),c()()(),g(11,"div"),c(),o(12,"div",30),g(13,"i",31),o(14,"small",32),d(15),c()(),o(16,"div",17),g(17,"i",33),o(18,"p",19),d(19),o(20,"span"),d(21,"miles"),c()()(),o(22,"div",34)(23,"div",21)(24,"button",22),m("click",function(){let n=_(i).$implicit,s=p();return x(s.makePhoneCall(n.phone_number))}),d(25," Call "),c(),o(26,"button",23),m("click",function(){let n=_(i).$implicit,s=p();return x(s.handleMapClick(n.geo_direction))}),d(27," Directions "),c()(),o(28,"div")(29,"div")(30,"div",24),m("click",function(){let e=_(i),n=e.$implicit,s=e.index,h=p();return x(h.likeBusiness(n.id,s))}),g(31,"i",35),o(32,"p",36),d(33),c()()()()()()()()()}if(a&2){let i=l.$implicit,t=l.index,e=p();r(3),y("src",i.logo,P),O("routerLink","/details/",i.id,""),r(7),C(" ",i.name," "),r(5),b(e.truncateText(i.state,5)+", "+e.truncateText(i.street,5)),r(4),C(" Distance: ",e.calculateDistance(i.geo_direction.lat,i.geo_direction.lng)," "),r(11),M("liked",e.listingArray[t].liked),r(1),k("color",e.listingArray[t].liked?"black":"#0069D9"),r(2),C(" ",e.listingArray[t].likes," ")}}var gt=(()=>{let l=class l{constructor(t,e,n,s){this.filterservice=t,this._cookieService=e,this.router=n,this.distanceService=s,this.first=0,this.rows=6,this.maxDescriptionLength=20,this.maxname=24,this.likeCountValue=[],this.isLiked=Array(this.listingArray?.length).fill(!1)}makePhoneCall(t){console.log("Initiating phone call to:",t),window.location.href="tel:"+t}handleMapClick(t){if(console.log(t),t){let e=`https://www.google.com/maps/search/?api=1&query=${t.lat},${t.lng}`;window.open(e,"_blank")}}truncateText(t,e){return t.length<=e?t:t.slice(0,e)+"..."}likeBusiness(t,e){this._cookieService.get("token")?this.listingArray[e].liked==!0?(console.log(this.listingArray[e].liked),this.filterservice.addDislikes(t).subscribe({next:s=>{console.log(s,"like"),this.listingArray[e].liked=!1,this.listingArray[e].likes+=1}})):this.filterservice.addLike(t).subscribe({next:s=>{console.log(s,"dislike"),this.listingArray[e].liked=!0,this.listingArray[e].likes-=1}}):this.router.navigate(["/login"])}truncateName(t){return t.length<=24?t:t.substring(0,24)}truncatedis(t){return t.length<=44?t:t.substring(0,44)}calculateDistance(t,e){let n=this.distanceService.calculateDistance(t,e);return n!==null?n.toFixed(0):"N/A"}ngOnInit(){this.totalRecords=this.listingArray.length}onPageChange(t){this.first=t.first,this.rows=t.rows}};l.\u0275fac=function(e){return new(e||l)(f(T),f(L),f(z),f(F))},l.\u0275cmp=S({type:l,selectors:[["app-list-view"]],inputs:{listingArray:"listingArray",filterarray:"filterarray",distances:"distances"},standalone:!0,features:[I],decls:5,vars:5,consts:[[1,"container"],["class","rania d-flex gap-4 justify-content-start align-items-center py-3 row web-v",4,"ngIf"],["class","mobile-v d-flex gap-4 justify-content-start align-items-center py-3","class","card my-2 py-0 mobile-v","style","padding-right: 23px",4,"ngFor","ngForOf"],[3,"first","rows","totalRecords","onPageChange"],[1,"rania","d-flex","gap-4","justify-content-start","align-items-center","py-3","row","web-v"],["class","card my-0 py-0 px-0","style","max-width: 635px",4,"ngFor","ngForOf"],[1,"card","my-0","py-0","px-0",2,"max-width","635px"],[1,"row","g-0"],[1,"col-5"],[1,"rounded-start","imgg",2,"height","195px","width","256px","object-fit","contain",3,"src","routerLink"],[1,"col-7"],[1,"card-body","d-flex","flex-column","align-items-between","justify-content-between","px-2","py-0",2,"height","100%"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","align-items-center","gap-3"],[1,"me-lg-5","me-0","mobile-font-size"],[1,"d-flex","gap-1","py-2"],[1,"pi","pi-map-marker",2,"color","#101010","font-size","1rem"],[1,"d-flex","justify-content-start","align-items-start","gap-1"],[1,"pi","pi-directions","fs-5"],[1,"m-0","distance"],[1,"btns","justify-content-between","align-items-end","d-flex","gap-1","py-2"],[1,"btns","flex-column","d-flex","gap-2"],[1,"call-now",3,"click"],[1,"Directions",3,"click"],[1,"d-flex","justify-content-center","align-items-center","gap-1",3,"click"],["id","likeIcon",1,"bx","bxs-like","fs-4"],["id","likeCount",1,"m-0"],[1,"card","my-2","py-0","mobile-v",2,"padding-right","23px"],[1,"rounded-start","imgg",2,"height","133px","width","176px","object-fit","contain",3,"src","routerLink"],[1,"me-lg-5","m-0",2,"font-size","13px"],[1,"d-flex","gap-1"],[1,"pi","pi-map-marker",2,"font-size","10px"],[2,"font-size","10px","margin","0px"],[1,"pi","pi-directions",2,"font-size","10px"],[1,"btns","justify-content-between","align-items-baseline","d-flex","gap-1"],["id","likeIcon",1,"bx","bxs-like","fs-6"],["id","likeCount",1,"m-0",2,"font-size","12px"]],template:function(e,n){e&1&&(o(0,"section")(1,"div",0),v(2,et,2,1,"div",1)(3,it,34,10,"div",2),c(),o(4,"p-paginator",3),m("onPageChange",function(h){return n.onPageChange(h)}),c()()),e&2&&(r(2),u("ngIf",n.listingArray),r(1),u("ngForOf",n.listingArray.slice(n.first,n.first+n.rows)),r(1),u("first",n.first)("rows",n.rows)("totalRecords",n.listingArray.length))},dependencies:[j,E,D,V,A,R,$],styles:[".rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-5[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;cursor:pointer}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:16px;line-height:33px;font-weight:900!important;white-space:nowrap}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff8682;width:107px;height:59px;font-weight:700;font-size:17px;padding:0;font-family:Lato,sans-serif;gap:0!important}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-family:Lato,sans-serif}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:44px;border-radius:10px;width:86px;background-color:#8dd3bb;outline:none;border:none}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .call-now[_ngcontent-%COMP%]{background-color:#aefcc9;width:90px;height:30px;border:none;outline:none;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px}.rania[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   .Directions[_ngcontent-%COMP%]{background-color:#ffbf9d;width:90px;height:30px;border:none;outline:none;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-ms-border-radius:4px;-o-border-radius:4px}#likeIcon[_ngcontent-%COMP%]{color:#000;cursor:pointer}#likeContainer.liked[_ngcontent-%COMP%]   #likeIcon[_ngcontent-%COMP%]{color:#9090e6}@media (max-width: 767px){.mobile-font-size[_ngcontent-%COMP%]{font-size:14px!important}.btns[_ngcontent-%COMP%]   .call-now[_ngcontent-%COMP%]{width:87px!important;font-size:15px;color:#000}.btns[_ngcontent-%COMP%]   .Directions[_ngcontent-%COMP%]{width:90px!important;font-size:15px;color:#000}}.imgg[_ngcontent-%COMP%]{background-color:#000}@media (max-width: 767px){.mobile-font-size[_ngcontent-%COMP%]{font-size:14px!important}.distance[_ngcontent-%COMP%]{font-size:10px!important}.btns[_ngcontent-%COMP%]   .call-now[_ngcontent-%COMP%]{width:72px!important;height:22px!important;font-size:10px!important}.btns[_ngcontent-%COMP%]   .Directions[_ngcontent-%COMP%]{width:72px!important;height:22px!important;font-size:10px!important;margin-bottom:10px}.web-v[_ngcontent-%COMP%]{display:none!important}.mobile-v[_ngcontent-%COMP%]{display:block!important}}.web-v[_ngcontent-%COMP%]{display:block}.mobile-v[_ngcontent-%COMP%]{display:none}"]});let a=l;return a})();export{ct as a,gt as b};
