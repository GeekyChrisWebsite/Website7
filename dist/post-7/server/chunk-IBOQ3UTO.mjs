import './polyfills.server.mjs';
import{a as b}from"./chunk-NBOJMGCH.mjs";import{a as n}from"./chunk-7MGJQSK6.mjs";import{b as o,c as g}from"./chunk-JOHIODNF.mjs";import{M as u,R as a,f as l}from"./chunk-JEOM7DIS.mjs";var D=(()=>{let r=class r{constructor(e,s){this.httpClient=e,this.postingService=s,this.filteredListings=new l,this.filteredPostings=new l,this.filteredBuySell=new l,this.clearListings=new l,this.clearPostings=new l,this.clearBuysell=new l}getStates(e){let s=new o;return s=s.set("category",e),this.httpClient.get(`${n.BACKEND_DOMAIN}/filter/states`,{params:s})}getCities(e,s){let i=new o;return i=i.set("category",e),i=i.set("state",s),this.httpClient.get(`${n.BACKEND_DOMAIN}/filter/cities`,{params:i})}getbussineses(e,s,i){let t=new o;return t=t.set("category",e),t=t.set("state",s),t=t.set("city",i),this.httpClient.get(`${n.BACKEND_DOMAIN}/filter/businesses`,{params:t})}filterInService(e,s,i){this.businessSubscription&&this.businessSubscription.unsubscribe(),this.businessSubscription=this.getbussineses(e,s,i).subscribe({next:t=>{console.log(t),this.filteredListings.next(t)}})}filterInPostings(e,s,i){this.postsSubscription=this.getPostings(e,s,i).subscribe({next:t=>{console.log(t),this.filteredPostings.next(t)}})}filterInBuySell(e,s,i){this.buySellSubscription=this.getBuySells(e,s,i).subscribe({next:t=>{console.log(t),this.filteredBuySell.next(t)}})}getListing(){return this.httpClient.get(`${n.BACKEND_DOMAIN}/get-businesses-website-request/${n.SITE_DOMAIN}`)}getPosting(){return this.httpClient.get(`${n.BACKEND_DOMAIN}/get-all-posts-website-request/${n.SITE_DOMAIN}`)}getbuysell(){return this.httpClient.get(`${n.BACKEND_DOMAIN}/get-all-buysells-website-request/${n.SITE_DOMAIN}`)}clearListing(){this.clearListingSubscription&&this.clearListingSubscription.unsubscribe(),this.clearListingSubscription=this.getListing().subscribe({next:e=>{this.clearListings.next(e)}}),this.clearPostingSubscription&&this.clearPostingSubscription.unsubscribe(),this.clearPostingSubscription=this.getPosting().subscribe({next:e=>{console.log("in service posts",e),this.clearPostings.next(e.data)}}),this.clearBuySellSubscription&&this.clearBuySellSubscription.unsubscribe(),this.clearBuySellSubscription=this.getbuysell().subscribe({next:e=>{console.log(e.data),this.clearBuysell.next(e.data)}})}getPostings(e,s,i){let t=new o;return t=t.set("category",e),t=t.set("state",s),t=t.set("city",i),this.httpClient.get(`${n.BACKEND_DOMAIN}/website-filtered-posts`,{params:t})}getBuySells(e,s,i){let t=new o;return t=t.set("category",e),t=t.set("state",s),t=t.set("city",i),this.httpClient.get(`${n.BACKEND_DOMAIN}/website-filtered-buysells`,{params:t})}addLike(e){let s={};return this.httpClient.post(`${n.BACKEND_DOMAIN}/business/${e}/like`,s)}addDislikes(e){let s={};return this.httpClient.post(`${n.BACKEND_DOMAIN}/business/${e}/dislike`,s)}};r.\u0275fac=function(s){return new(s||r)(a(g),a(b))},r.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"});let c=r;return c})();export{D as a};
