<section class="buy-sell py-5">
    <div class="container">
        <div class="text justify-content-center align-items-center d-flex">
            <h2>Buy&sell</h2>
        </div>
    </div>
</section>
<section class="posting mt-4 py-5">
    <div class=" box mb-4 mt-lg-0 mt-4">
        <div class="container">
            <div class="title mb-4 justify-content-between align-items-center d-flex">
                <div class="">
                    <h3>Top businesses in your Area</h3>

                </div>
                <div class="form-group">
                    <div class="div-searchBar justify-content-center align-items-center d-flex">
                        <form [formGroup]="filterformbuyandsell" (ngSubmit)="onSubmit()">
                            <p-dropdown formControlName="categories" [options]="categories"
                                placeholder="Select a Category" (onChange)="oncategorychange($event)"></p-dropdown>
                            <p-dropdown formControlName="states" [options]="state" placeholder="Select a State"
                                (onChange)="onstatechange($event)"></p-dropdown>
                            <p-dropdown formControlName="cities" [options]="city" placeholder="Select a City"
                                (onChange)="oncitychange($event)"></p-dropdown>
                            <button class="Search-btn" [disabled]="!filterformbuyandsell.valid"
                                (click)="getfilterBuySELL()">Search</button>
                        </form>

                    </div>
                </div>
            </div>
            <div class="view d-flex justify-content-between">
                <div class="suggest">
                    <h6 class="m-0">Suggested Results:</h6>
                </div>
                <div class="views d-flex gap-3">

                    <div (click)="showList()" class=" d-flex gap-2" [ngClass]="listView ? 'active' : null">
                        <i class="bi bi-list-columns-reverse"></i>
                        <i class="bx bx-grid bx-flip-horizontal fs-3" style="color: #8dd3bb;"></i>
                        <p class="m-0 d-none d-lg-block">List View</p>
                    </div>
                    <div (click)="showGallery()" class="box d-flex gap-2" [ngClass]="galleyView ? 'active' : null">
                        <i class="bx bx-photo-album bx-flip-horizontal fs-3" style="color: #8dd3bb;"></i>
                        <p class="m-0 d-none d-lg-block">Gallery View</p>
                    </div>
                    <div (click)="showMap()" class="box d-flex gap-2" [ngClass]="mapView ? 'active' : null">
                        <i class="bx bx-map-alt bx-flip-horizontal fs-3" style="color: #8dd3bb;"></i>
                        <p class="m-0 d-none d-lg-block">Map View</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @if(listView){
    <div class="view-data  mx-5">
        <app-bs-listview [BuySellArray]="BuySellArray"></app-bs-listview>
    </div>
    } @if(galleyView){
    <div class="view-data mx-5">
        <app-bs-gellaryview [BuySellArray]="BuySellArray"></app-bs-gellaryview>
    </div>
    } @if(mapView){
    <div class="view-data mx-5">
        <app-bs-mapview [BuySellArray]="BuySellArray"></app-bs-mapview>
    </div>
    }
    <div>
        <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows"
            [totalRecords]="BuySellArray!.length"></p-paginator>
    </div>
</section>