<section class="list-img" *ngIf="postingArray">
  <div class="container">
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="first"
      [rows]="rows"
      [totalRecords]="postingArray.length"
    ></p-paginator>
    <div
      class="row justify-content-start align-items-center d-flex flex-wrap gap-3 py-3 gap-lg-0"
    >
      <div
        class="col-md-3 col-12 mb-3"
        *ngFor="
          let item of postingArray.slice(first, first + rows);
          let i = index
        "
      >
        <div
          class="card justify-content-between align-items-center d-flex"
          routerLink="/postingdetails/{{ item.id }}"
        >
          <!-- <div class="d-flex justify-content-center align-items-center gap-1 div-like"
                        (click)="likeBusiness(item.business_id, i);$event.stopPropagation()"
                        [class.liked]="postingArray[i].liked">
                        <i class='bx bxs-like fs-4' id="likeIcon"
                            [style.color]="postingArray[i].liked ? 'black' : '#0069D9'"></i>
                    </div>
                    <p id="likeCount" class="m-0 likes">{{postingArray[i].business.likes}}</p>
 -->

          <img src="{{ item.business.logo }}" alt="" class="border rounded" />
          <div class="title py-2">
            <h5>{{ item.business.name }}</h5>
          </div>
          <div class="d-flex justify-content-center align-items-center">
            <i class="pi pi-directions fs-4"></i>
            <p class="px-1 m-0 distance">
              Distance:
              {{
                calculateDistance(
                  item.business.geo_direction.lat,
                  item.business.geo_direction.lng
                )
              }}
              <span>miles</span>
            </p>
          </div>
          <div>
            <p class="mx-3 text-center">{{ truncateText(item.content, 30) }}</p>
          </div>
          <div
            class="btns justify-content-start align-items-start d-flex gap-3 py-3"
          >
            <button class="call-now" (click)="makePhoneCall(item.phone_number)">
              Call Now
            </button>
            <button
              class="Directions"
              (click)="handleMapClick(item.business.geo_direction)"
            >
              Directions
            </button>
          </div>
        </div>
      </div>
      <p-paginator
        (onPageChange)="onPageChange($event)"
        [first]="first"
        [rows]="rows"
        [totalRecords]="postingArray.length"
      ></p-paginator>
    </div>
  </div>
</section>
